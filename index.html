<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text-to-Speech App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }
        .glow-button {
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.6);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .glow-button:hover {
            box-shadow: 0 0 25px rgba(59, 130, 246, 0.9);
            transform: translateY(-2px);
        }
        .glow-button::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }
        .glow-button:hover::after {
            left: 100%;
        }
        .container-glow {
            transition: all 0.3s ease;
        }
        .container-glow:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
        }
        textarea, input, select {
            transition: all 0.3s ease;
        }
        textarea:focus, input:focus, select:focus {
            transform: scale(1.02);
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        #particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: transparent;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-100 to-purple-100 min-h-screen flex flex-col">
    <!-- Particle Background -->
    <canvas id="particles"></canvas>

    <!-- Header -->
    <header class="bg-blue-600 text-white p-4 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-xl sm:text-2xl font-bold">Text-to-Speech Pro</h1>
            <nav class="space-x-4">
                <a href="#" class="hover:text-blue-200">Home</a>
                <a href="#" class="hover:text-blue-200">About</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto p-4 sm:p-6 flex items-center justify-center">
        <div class="bg-white rounded-xl shadow-2xl p-6 sm:p-8 w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-3xl container-glow">
            <h2 class="text-2xl sm:text-3xl font-bold text-center text-blue-700 mb-6 animate-pulse">Convert Words to Speech</h2>

            <div class="mb-6">
                <label for="words" class="block text-sm font-medium text-gray-700 mb-2">Enter Words (one per line):</label>
                <textarea id="words" rows="6" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter words, one per line..."></textarea>
                <p class="text-sm text-gray-500 mt-1">Word count: <span id="wordCount">0</span></p>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
                <div>
                    <label for="gapTime" class="block text-sm font-medium text-gray-700 mb-2">Gap Time (seconds):</label>
                    <input type="number" id="gapTime" value="10" min="1" max="60" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <label for="accent" class="block text-sm font-medium text-gray-700 mb-2">Select Accent:</label>
                    <select id="accent" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="en-US">US English</option>
                        <option value="en-GB">UK English</option>
                        <option value="en-AU">Australian English</option>
                        <option value="en-IN">Indian English</option>
                    </select>
                </div>
                <div>
                    <label for="pitch" class="block text-sm font-medium text-gray-700 mb-2">Voice Pitch:</label>
                    <input type="range" id="pitch" min="0.5" max="2" step="0.1" value="1" class="w-full">
                    <p class="text-sm text-gray-500 mt-1">Pitch: <span id="pitchValue">1</span></p>
                </div>
                <div>
                    <label for="speed" class="block text-sm font-medium text-gray-700 mb-2">Speech Speed:</label>
                    <input type="range" id="speed" min="0.5" max="2" step="0.1" value="1" class="w-full">
                    <p class="text-sm text-gray-500 mt-1">Speed: <span id="speedValue">1</span></p>
                </div>
            </div>

            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">Progress:</label>
                <div class="w-full bg-gray-200 rounded-full h-4">
                    <div id="progressBar" class="bg-blue-500 h-4 rounded-full progress-bar" style="width: 0%"></div>
                </div>
                <p class="text-sm text-gray-500 mt-1">Current: <span id="currentWord">None</span></p>
            </div>

            <div class="flex flex-wrap justify-center gap-4 mb-6">
                <button id="playBtn" class="bg-blue-500 text-white px-6 py-3 rounded-full glow-button disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>Play</button>
                <button id="pauseBtn" class="bg-red-500 text-white px-6 py-3 rounded-full glow-button hidden">Pause</button>
                <button id="saveBtn" class="bg-green-500 text-white px-6 py-3 rounded-full glow-button">Save Words</button>
                <button id="downloadBtn" class="bg-purple-500 text-white px-6 py-3 rounded-full glow-button hidden">Download Audio</button>
            </div>

            <div class="text-center">
                <p id="status" class="text-sm text-gray-600 font-medium">Enter words to start</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-blue-600 text-white p-4">
        <div class="container mx-auto text-center">
            <p class="text-sm">TTS Pro 2025 All Rights Reserved</p>
        </div>
    </footer>

    <script>
        // Particle Background
        const canvas = document.getElementById('particles');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particlesArray = [];
        const numberOfParticles = 50;

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 0.5 - 0.25;
                this.speedY = Math.random() * 0.5 - 0.25;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.size > 0.2) this.size -= 0.01;
                if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
                if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
            }
            draw() {
                ctx.fillStyle = 'rgba(59, 130, 246, 0.5)';
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initParticles() {
            for (let i = 0; i < numberOfParticles; i++) {
                particlesArray.push(new Particle());
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particlesArray.length; i++) {
                particlesArray[i].update();
                particlesArray[i].draw();
                if (particlesArray[i].size <= 0.2) {
                    particlesArray.splice(i, 1);
                    i--;
                    particlesArray.push(new Particle());
                }
            }
            requestAnimationFrame(animateParticles);
        }

        initParticles();
        animateParticles();
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // App Logic
        const wordsInput = document.getElementById('words');
        const wordCount = document.getElementById('wordCount');
        const gapTimeInput = document.getElementById('gapTime');
        const accentSelect = document.getElementById('accent');
        const pitchInput = document.getElementById('pitch');
        const speedInput = document.getElementById('speed');
        const pitchValue = document.getElementById('pitchValue');
        const speedValue = document.getElementById('speedValue');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const saveBtn = document.getElementById('saveBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const status = document.getElementById('status');
        const progressBar = document.getElementById('progressBar');
        const currentWord = document.getElementById('currentWord');

        let words = [];
        let currentWordIndex = 0;
        let isPlaying = false;
        let speechTimeout;
        let audioChunks = [];

        // Load saved words from localStorage
        if (localStorage.getItem('savedWords')) {
            wordsInput.value = localStorage.getItem('savedWords');
            updateWordCount();
        }

        // Update word count and enable/disable play button
        wordsInput.addEventListener('input', () => {
            updateWordCount();
            playBtn.disabled = words.length === 0;
        });

        function updateWordCount() {
            words = wordsInput.value.split('\n').filter(word => word.trim() !== '');
            wordCount.textContent = words.length;
            updateProgressBar();
        }

        // Update pitch and speed display
        pitchInput.addEventListener('input', () => {
            pitchValue.textContent = pitchInput.value;
        });

        speedInput.addEventListener('input', () => {
            speedValue.textContent = speedInput.value;
        });

        // Save words to localStorage
        saveBtn.addEventListener('click', () => {
            localStorage.setItem('savedWords', wordsInput.value);
            status.textContent = 'Words saved successfully!';
            setTimeout(() => status.textContent = 'Enter words to start', 2000);
        });

        // Play speech
        playBtn.addEventListener('click', () => {
            if (!isPlaying && words.length > 0) {
                isPlaying = true;
                audioChunks = [];
                playBtn.classList.add('hidden');
                pauseBtn.classList.remove('hidden');
                downloadBtn.classList.add('hidden');
                status.textContent = 'Playing...';
                speakWords();
            }
        });

        // Pause speech
        pauseBtn.addEventListener('click', () => {
            isPlaying = false;
            clearTimeout(speechTimeout);
            speechSynthesis.cancel();
            playBtn.classList.remove('hidden');
            pauseBtn.classList.add('hidden');
            status.textContent = 'Paused';
            if (audioChunks.length > 0) {
                downloadBtn.classList.remove('hidden');
            }
        });

        // Update progress bar
        function updateProgressBar() {
            const progress = words.length > 0 ? (currentWordIndex / words.length) * 100 : 0;
            progressBar.style.width = `${progress}%`;
        }

        // Speak words with Web Speech API
        function speakWords() {
            if (!isPlaying || currentWordIndex >= words.length) {
                isPlaying = false;
                playBtn.classList.remove('hidden');
                pauseBtn.classList.add('hidden');
                status.textContent = 'Finished playing';
                currentWord.textContent = 'None';
                if (audioChunks.length > 0) {
                    downloadBtn.classList.remove('hidden');
                }
                currentWordIndex = 0;
                updateProgressBar();
                return;
            }

            const utterance = new SpeechSynthesisUtterance(words[currentWordIndex]);
            utterance.lang = accentSelect.value;
            utterance.pitch = parseFloat(pitchInput.value);
            utterance.rate = parseFloat(speedInput.value);
            utterance.onend = () => {
                currentWordIndex++;
                updateProgressBar();
                speechTimeout = setTimeout(speakWords, gapTimeInput.value * 1000);
            };
            speechSynthesis.speak(utterance);
            status.textContent = `Speaking: ${words[currentWordIndex]}`;
            currentWord.textContent = words[currentWordIndex];
        }

        // Download button placeholder
        downloadBtn.addEventListener('click', () => {
            status.textContent = 'Download not fully supported in browser. Try desktop app for audio export.';
            setTimeout(() => status.textContent = 'Enter words to start', 3000);
        });
    </script>
